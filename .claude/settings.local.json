{
  "permissions": {
    "allow": [
      "Bash(npx create-next-app@latest frontend --typescript --tailwind --eslint --app --src-dir --no-import-alias --use-npm)",
      "Bash(dir:*)",
      "Bash(python -c:*)",
      "Bash(npx tsc:*)",
      "Bash(npm run build:*)",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwiZW1haWwiOiJ0ZXN0ZTNAcm9ib3JvY2EuY29tIiwiZXhwIjoxNzcwNDc5ODY4fQ.XzVFbEsTi0wzj4zAMIj5kGpuuDB75DSiQIc1Z3KoIuM\")",
      "Bash(curl:*)",
      "Bash(taskkill:*)",
      "Bash(tree:*)",
      "Bash(powershell -Command \"Start-Process cmd -ArgumentList ''/c start-backend.bat'' -WindowStyle Normal\")",
      "Bash(powershell -Command \"Start-Sleep -Seconds 15; try { $response = Invoke-WebRequest -Uri ''http://localhost:8000'' -TimeoutSec 10 -UseBasicParsing; Write-Host ''Backend respondendo:''; $response.Content } catch { Write-Host ''Erro ao conectar ao backend: '' $_Exception.Message }\")",
      "Bash(powershell -Command \"Start-Sleep -Seconds 10; Invoke-RestMethod -Uri ''http://localhost:8000'' -TimeoutSec 10\")",
      "Bash(powershell -Command \"Start-Process cmd -ArgumentList ''/c cd /d C:\\\\Users\\\\ciroa\\\\Roboroça && start-backend.bat'' -WindowStyle Normal\")",
      "Bash(powershell -Command \"Start-Sleep -Seconds 20; Invoke-RestMethod -Uri ''http://localhost:8000'' -TimeoutSec 10\")",
      "Bash(powershell -NoProfile -Command \"Set-Location ''C:\\\\Users\\\\ciroa\\\\Roboroça''; & ''.\\\\venv\\\\Scripts\\\\pip.exe'' install -r backend\\\\requirements.txt 2>&1 | Select-Object -First 50\")",
      "Bash(powershell -NoProfile -Command \"Set-Location ''C:\\\\Users\\\\ciroa\\\\Roboroça''; & ''.\\\\venv\\\\Scripts\\\\pip.exe'' install -r backend\\\\requirements.txt\")",
      "Bash(powershell -NoProfile -Command:*)",
      "Bash(./venv/Scripts/python.exe:*)",
      "WebSearch",
      "Bash(\"venv\\\\Scripts\\\\python.exe\":*)",
      "Bash(\"venv\\\\Scripts\\\\python.exe\" -m uvicorn backend.main:app --host 0.0.0.0 --port 8000)",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI3IiwiZW1haWwiOiJ0ZXN0QHRlc3QuY29tIiwiZXhwIjoxNzcwOTEyMDAxfQ.zjCQTB9plwixHLlJLjOqIF4GDku0rq9A2d8CiFG1ZY0\")",
      "Bash(netstat:*)",
      "Bash(\"venv\\\\Scripts\\\\python.exe\" -c:*)",
      "Bash(\"venv\\\\Scripts\\\\python.exe\" -c \"\ntry:\n    from backend.services.report_generation.pdf_generator import ReportGenerator\n    print\\(''ReportGenerator: IMPORTADO''\\)\n    gen = ReportGenerator\\(\\)\n    print\\(''ReportGenerator: INSTANCIADO''\\)\nexcept Exception as e:\n    print\\(f''ReportGenerator: ERRO - {e}''\\)\n\")",
      "Bash(python -m py_compile:*)",
      "Bash(..venvScriptspython.exe -c \"\nimport sys\nsys.path.insert\\(0, ''..''\\)\n\nfrom sqlalchemy import create_engine, select, text\nfrom sqlalchemy.orm import sessionmaker\nimport math\n\nengine = create_engine\\(''sqlite:///../roboroca.db''\\)\nSession = sessionmaker\\(bind=engine\\)\nsession = Session\\(\\)\n\n# Simular a funcao calculate_bounding_box_area_ha\nresult = session.execute\\(text\\(''SELECT center_lat, center_lon FROM images WHERE project_id = 19 AND center_lat IS NOT NULL''\\)\\)\nimages_gps = result.fetchall\\(\\)\n\nprint\\(f''Imagens com GPS: {len\\(images_gps\\)}''\\)\n\nif images_gps:\n    lats = [img[0] for img in images_gps]\n    lons = [img[1] for img in images_gps]\n    \n    min_lat, max_lat = min\\(lats\\), max\\(lats\\)\n    min_lon, max_lon = min\\(lons\\), max\\(lons\\)\n    \n    print\\(f''Lat range: {min_lat} a {max_lat}''\\)\n    print\\(f''Lon range: {min_lon} a {max_lon}''\\)\n    \n    if min_lat == max_lat and min_lon == max_lon:\n        print\\(''Apenas 1 ponto - retornando 1.0 ha''\\)\n        area = 1.0\n    else:\n        lat_center = \\(min_lat + max_lat\\) / 2\n        lat_distance_km = \\(max_lat - min_lat\\) * 111.32\n        lon_distance_km = \\(max_lon - min_lon\\) * 111.32 * math.cos\\(math.radians\\(lat_center\\)\\)\n        area_km2 = lat_distance_km * lon_distance_km\n        area = max\\(round\\(area_km2 * 100, 2\\), 1.0\\)\n    \n    print\\(f''Area calculada: {area} ha''\\)\n\nsession.close\\(\\)\n\")",
      "Bash(venvScriptspython.exe -c \"\nimport sys\nsys.path.insert\\(0, ''backend''\\)\n\nfrom sqlalchemy import create_engine, select, text\nfrom sqlalchemy.orm import sessionmaker\nimport math\n\nengine = create_engine\\(''sqlite:///roboroca.db''\\)\nSession = sessionmaker\\(bind=engine\\)\nsession = Session\\(\\)\n\n# Simular a funcao calculate_bounding_box_area_ha\nresult = session.execute\\(text\\(''SELECT center_lat, center_lon FROM images WHERE project_id = 19 AND center_lat IS NOT NULL''\\)\\)\nimages_gps = result.fetchall\\(\\)\n\nprint\\(f''Imagens com GPS: {len\\(images_gps\\)}''\\)\n\nif images_gps:\n    lats = [img[0] for img in images_gps]\n    lons = [img[1] for img in images_gps]\n    \n    min_lat, max_lat = min\\(lats\\), max\\(lats\\)\n    min_lon, max_lon = min\\(lons\\), max\\(lons\\)\n    \n    print\\(f''Lat range: {min_lat} a {max_lat}''\\)\n    print\\(f''Lon range: {min_lon} a {max_lon}''\\)\n    \n    if min_lat == max_lat and min_lon == max_lon:\n        print\\(''Apenas 1 ponto - retornando 1.0 ha''\\)\n        area = 1.0\n    else:\n        lat_center = \\(min_lat + max_lat\\) / 2\n        lat_distance_km = \\(max_lat - min_lat\\) * 111.32\n        lon_distance_km = \\(max_lon - min_lon\\) * 111.32 * math.cos\\(math.radians\\(lat_center\\)\\)\n        area_km2 = lat_distance_km * lon_distance_km\n        area = max\\(round\\(area_km2 * 100, 2\\), 1.0\\)\n    \n    print\\(f''Area calculada: {area} ha''\\)\n\nsession.close\\(\\)\n\")",
      "Bash(Python -c:*)",
      "Bash(sqlite3:*)",
      "Bash(timeout:*)",
      "Bash(Python -m uvicorn:*)",
      "Bash(\"C:\\\\Users\\\\ciroa\\\\Roboroça\\\\venv\\\\Scripts\\\\python.exe\" -m uvicorn:*)",
      "Bash(Python -m json.tool:*)",
      "Bash(npm run dev:*)",
      "Bash(python -m uvicorn:*)",
      "Bash(ping:*)",
      "Bash(\"C:\\\\Users\\\\ciroa\\\\Roboroça\\\\venv\\\\Scripts\\\\python.exe\" -m uvicorn backend.main:app --reload --host 0.0.0.0 --port 8000)",
      "Bash(findstr:*)",
      "Bash(\"C:\\\\Users\\\\ciroa\\\\Roboroça\\\\venv\\\\Scripts\\\\python.exe\" -c \"\nimport sqlite3\nconn = sqlite3.connect\\(''C:/Users/ciroa/Roboroça/roboroca.db''\\)\nc = conn.cursor\\(\\)\n\n# Buscar projeto sitio1\nc.execute\\(''SELECT id, name, user_id, status, total_area_ha FROM projects WHERE name LIKE \"\"%sitio%\"\"''\\)\nprojects = c.fetchall\\(\\)\nprint\\(''Projetos encontrados:''\\)\nfor p in projects:\n    print\\(f''  ID: {p[0]}, Nome: {p[1]}, User: {p[2]}, Status: {p[3]}, Area: {p[4]} ha''\\)\n    \n    # Buscar imagens do projeto\n    c.execute\\(''SELECT id, filename, width, height FROM images WHERE project_id = ?'', \\(p[0],\\)\\)\n    images = c.fetchall\\(\\)\n    print\\(f''  Imagens: {len\\(images\\)}''\\)\n    for img in images:\n        print\\(f''    ID: {img[0]}, {img[1]}, {img[2]}x{img[3]}''\\)\n        \n        # Buscar análise da imagem\n        c.execute\\(''SELECT id, results FROM analyses WHERE image_id = ?'', \\(img[0],\\)\\)\n        analyses = c.fetchall\\(\\)\n        if analyses:\n            print\\(f''    Análises: {len\\(analyses\\)}''\\)\n        else:\n            print\\(f''    Sem análises''\\)\n\nconn.close\\(\\)\n\")",
      "Bash(\"C:\\\\Users\\\\ciroa\\\\Roboroça\\\\venv\\\\Scripts\\\\python.exe\" -c:*)",
      "Bash(tasklist:*)",
      "Bash(wmic:*)",
      "Bash(cmd //c \"taskkill /F /PID 528\")",
      "Bash(\"C:\\\\Users\\\\ciroa\\\\Roboroça\\\\venv\\\\Scripts\\\\python.exe\":*)",
      "Bash(\"C:\\\\Users\\\\ciroa\\\\Roboroça\\\\venv\\\\Scripts\\\\pip.exe\" list)",
      "Bash(\"C:\\\\Users\\\\ciroa\\\\Roboroça\\\\venv\\\\Scripts\\\\python.exe\" -c \"\nimport sqlite3\nconn = sqlite3.connect\\(''C:/Users/ciroa/Roboroça/roboroca.db''\\)\nc = conn.cursor\\(\\)\n\n# Ver projetos e seus owners\nc.execute\\(''SELECT p.id, p.name, p.total_area_ha, u.email FROM projects p JOIN users u ON p.owner_id = u.id ORDER BY p.id DESC LIMIT 5''\\)\nfor row in c.fetchall\\(\\):\n    print\\(f''Proj {row[0]}: {row[1]}, Area: {row[2]} ha, Owner: {row[3]}''\\)\nconn.close\\(\\)\n\")",
      "Bash(\"C:\\\\Users\\\\ciroa\\\\Roboroça\\\\venv\\\\Scripts\\\\python.exe\" -c \"\nimport sys\nsys.path.insert\\(0, ''C:/Users/ciroa/Roboroça''\\)\n\n# Simular importação como no projects.py\ntry:\n    from backend.services.ml import \\(\n        segment_image,\n        classify_scene,\n        classify_vegetation_type,\n        extract_all_features,\n        get_detection_summary,\n        count_trees_by_segmentation,\n        analyze_video,\n    \\)\n    print\\(''Imports OK!''\\)\n    print\\(f''count_trees_by_segmentation: {count_trees_by_segmentation}''\\)\n    print\\(f''get_detection_summary: {get_detection_summary}''\\)\n    ML_AVAILABLE = True\nexcept ImportError as e:\n    print\\(f''ImportError: {e}''\\)\n    ML_AVAILABLE = False\n    \nprint\\(f''ML_AVAILABLE: {ML_AVAILABLE}''\\)\n\")",
      "Bash(where:*)",
      "Bash(C:Python314python.exe -m pip show uvicorn)",
      "Bash(source venv/Scripts/activate)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(git push:*)",
      "Bash(for:*)",
      "Bash(do taskkill /F /PID $pid)",
      "Bash(done)",
      "Bash(powershell -Command \"Get-Process python -ErrorAction SilentlyContinue | Stop-Process -Force; Get-Process uvicorn -ErrorAction SilentlyContinue | Stop-Process -Force; Start-Sleep -Seconds 2; Get-NetTCPConnection -LocalPort 8000 -ErrorAction SilentlyContinue | Select-Object OwningProcess\")",
      "Bash(powershell -Command \"netstat -ano | Select-String '':8000.*LISTENING''\")",
      "Bash(xargs:*)",
      "Bash(git check-ignore:*)",
      "Bash(find:*)",
      "Bash(cmd /c:*)",
      "Bash(powershell -Command:*)"
    ]
  }
}
